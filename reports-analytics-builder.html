<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports & Analytics - Custom Report Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            z-index: 1000;
            animation: slideIn 0.3s ease-out;
        }
        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .widget-item {
            transition: all 0.2s;
            cursor: move;
        }
        .widget-item:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        .drop-zone {
            min-height: 400px;
            border: 2px dashed #d1d5db;
            transition: all 0.3s;
        }
        .drop-zone.drag-over {
            border-color: #8b5cf6;
            background: #f3f4f6;
        }
    </style>
<script src="https://sites.super.myninja.ai/_assets/ninja-daytona-script.js"></script>
</head>
<body class="bg-gray-50">
    <div id="toastContainer"></div>

    <div class="bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-lg">
        <div class="max-w-7xl mx-auto px-6 py-6">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-3xl font-bold flex items-center">
                        <i class="fas fa-tools mr-3"></i>
                        Reports & Analytics - Custom Report Builder
                    </h1>
                    <p class="text-purple-100 mt-2">Drag & drop report builder with real-time preview</p>
                </div>
                <div class="flex gap-3">
                    <button class="bg-white text-purple-600 px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all">
                        <i class="fas fa-save mr-2"></i>Save Template
                    </button>
                    <button onclick="generateReport()" class="bg-green-500 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all">
                        <i class="fas fa-play mr-2"></i>Generate Report
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-6 py-8">
        <div class="grid grid-cols-12 gap-6">
            <!-- Left Sidebar - Widgets -->
            <div class="col-span-3">
                <div class="bg-white rounded-xl shadow-lg p-6 sticky top-6">
                    <h3 class="font-bold text-gray-800 mb-4">Report Components</h3>
                    
                    <div class="mb-6">
                        <h4 class="text-sm font-semibold text-gray-600 mb-3">DATA SOURCES</h4>
                        <div class="space-y-2">
                            <div class="widget-item bg-blue-50 border-2 border-blue-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-project-diagram text-blue-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Projects</span>
                                </div>
                            </div>
                            <div class="widget-item bg-green-50 border-2 border-green-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-users text-green-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Resources</span>
                                </div>
                            </div>
                            <div class="widget-item bg-purple-50 border-2 border-purple-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-clock text-purple-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Time Entries</span>
                                </div>
                            </div>
                            <div class="widget-item bg-orange-50 border-2 border-orange-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-dollar-sign text-orange-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Budget</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h4 class="text-sm font-semibold text-gray-600 mb-3">VISUALIZATIONS</h4>
                        <div class="space-y-2">
                            <div class="widget-item bg-indigo-50 border-2 border-indigo-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-chart-bar text-indigo-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Bar Chart</span>
                                </div>
                            </div>
                            <div class="widget-item bg-pink-50 border-2 border-pink-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-chart-line text-pink-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Line Chart</span>
                                </div>
                            </div>
                            <div class="widget-item bg-yellow-50 border-2 border-yellow-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-chart-pie text-yellow-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Pie Chart</span>
                                </div>
                            </div>
                            <div class="widget-item bg-teal-50 border-2 border-teal-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-table text-teal-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Data Table</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h4 class="text-sm font-semibold text-gray-600 mb-3">METRICS</h4>
                        <div class="space-y-2">
                            <div class="widget-item bg-red-50 border-2 border-red-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-tachometer-alt text-red-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">KPI Card</span>
                                </div>
                            </div>
                            <div class="widget-item bg-cyan-50 border-2 border-cyan-200 rounded-lg p-3">
                                <div class="flex items-center gap-2">
                                    <i class="fas fa-percentage text-cyan-600"></i>
                                    <span class="text-sm font-semibold text-gray-800">Progress Bar</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Main Canvas -->
            <div class="col-span-6">
                <div class="bg-white rounded-xl shadow-lg p-6 mb-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-gray-800">Report Canvas</h3>
                        <div class="flex gap-2">
                            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <i class="fas fa-undo"></i>
                            </button>
                            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <i class="fas fa-redo"></i>
                            </button>
                            <button class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="drop-zone rounded-lg p-6" id="reportCanvas">
                        <div class="text-center text-gray-400 py-20">
                            <i class="fas fa-mouse-pointer text-6xl mb-4"></i>
                            <p class="text-lg font-semibold">Drag components here to build your report</p>
                            <p class="text-sm mt-2">Start by selecting data sources and visualizations from the left panel</p>
                        </div>
                    </div>
                </div>

                <!-- Preview Section -->
                <div class="bg-white rounded-xl shadow-lg p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-4">Live Preview</h3>
                    <div class="border-2 border-gray-200 rounded-lg p-6">
                        <div class="grid grid-cols-2 gap-4 mb-6">
                            <div class="bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl shadow-lg p-6 text-white">
                                <p class="text-blue-100 text-sm font-medium">Total Projects</p>
                                <p class="text-3xl font-bold mt-2">42</p>
                            </div>
                            <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-xl shadow-lg p-6 text-white">
                                <p class="text-green-100 text-sm font-medium">Active Resources</p>
                                <p class="text-3xl font-bold mt-2">156</p>
                            </div>
                        </div>
                        <div class="bg-gray-50 rounded-lg p-4">
                            <p class="text-sm text-gray-600 text-center">Add components to see live preview</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar - Settings -->
            <div class="col-span-3">
                <div class="bg-white rounded-xl shadow-lg p-6 sticky top-6">
                    <h3 class="font-bold text-gray-800 mb-4">Report Settings</h3>
                    
                    <div class="space-y-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Report Name</label>
                            <input type="text" value="Custom Report" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Description</label>
                            <textarea rows="3" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent" placeholder="Enter report description..."></textarea>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Date Range</label>
                            <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option>Last 7 Days</option>
                                <option>Last 30 Days</option>
                                <option>Last Quarter</option>
                                <option>Last Year</option>
                                <option>Custom Range</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Output Format</label>
                            <div class="space-y-2">
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" checked class="rounded border-gray-300 text-purple-600 focus:ring-purple-500">
                                    <span class="text-sm text-gray-700">PDF</span>
                                </label>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" checked class="rounded border-gray-300 text-purple-600 focus:ring-purple-500">
                                    <span class="text-sm text-gray-700">Excel</span>
                                </label>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" class="rounded border-gray-300 text-purple-600 focus:ring-purple-500">
                                    <span class="text-sm text-gray-700">CSV</span>
                                </label>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" class="rounded border-gray-300 text-purple-600 focus:ring-purple-500">
                                    <span class="text-sm text-gray-700">HTML</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Filters</label>
                            <button class="w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:border-purple-500 hover:text-purple-600 transition-all">
                                <i class="fas fa-plus mr-2"></i>Add Filter
                            </button>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Grouping</label>
                            <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option>None</option>
                                <option>By Project</option>
                                <option>By Resource</option>
                                <option>By Date</option>
                                <option>By Status</option>
                            </select>
                        </div>

                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-2">Sorting</label>
                            <select class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent">
                                <option>Default</option>
                                <option>Ascending</option>
                                <option>Descending</option>
                                <option>Custom</option>
                            </select>
                        </div>
                    </div>

                    <div class="mt-6 pt-6 border-t border-gray-200">
                        <h4 class="font-semibold text-gray-800 mb-3">Quick Actions</h4>
                        <div class="space-y-2">
                            <button class="w-full px-4 py-2 bg-purple-100 text-purple-700 rounded-lg font-semibold hover:bg-purple-200 transition-all">
                                <i class="fas fa-eye mr-2"></i>Preview
                            </button>
                            <button class="w-full px-4 py-2 bg-blue-100 text-blue-700 rounded-lg font-semibold hover:bg-blue-200 transition-all">
                                <i class="fas fa-save mr-2"></i>Save as Template
                            </button>
                            <button class="w-full px-4 py-2 bg-green-100 text-green-700 rounded-lg font-semibold hover:bg-green-200 transition-all">
                                <i class="fas fa-calendar mr-2"></i>Schedule
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function showToast(message) {
            const toast = document.createElement('div');
            toast.className = 'toast';
            toast.innerHTML = `
                <div class="flex items-center gap-3">
                    <i class="fas fa-check-circle text-2xl"></i>
                    <span class="font-semibold">${message}</span>
                </div>
            `;
            document.getElementById('toastContainer').appendChild(toast);
            setTimeout(() => toast.remove(), 3000);
        }

        function generateReport() {
            showToast('Report generated successfully!');
        }

        // Drag and drop functionality
        const canvas = document.getElementById('reportCanvas');
        const widgets = document.querySelectorAll('.widget-item');

        widgets.forEach(widget => {
            widget.addEventListener('dragstart', (e) => {
                e.dataTransfer.setData('text/plain', widget.textContent);
            });
        });

        canvas.addEventListener('dragover', (e) => {
            e.preventDefault();
            canvas.classList.add('drag-over');
        });

        canvas.addEventListener('dragleave', () => {
            canvas.classList.remove('drag-over');
        });

        canvas.addEventListener('drop', (e) => {
            e.preventDefault();
            canvas.classList.remove('drag-over');
            showToast('Component added to report');
        });

        document.addEventListener('DOMContentLoaded', function() {
            showToast('Report Builder loaded successfully');
        });
    </script>
</body>
</html>